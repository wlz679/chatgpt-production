{"version":3,"mappings":"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","names":["logoImg","commonRoutes","suyuanRoutes","__vitePreload","routes","router","createRouter","createWebHashHistory","to","from","next","Token","getToken","mapToOptions","source","item","AggregationPrecisionMap","AgHoursPrecisionMap","suyuanDeviceTypeMap","suyuanSensorTypeMap","threeInOneDeviceTypeMap","threeInOneSensorTypeMap","monitorMetricsMap","ldywjMtricesMap","ylywjMtricesMap","lljMtricesMap","ddlyMtricesMap","ywkgMtricesMap","ywjMtricesMap","threeInOneMetricsMap","suyuanQuotaMap","fullMetricsMap","tableSensorTypeMap","oneMapSensorTypeMap","drainageZoneMap","pointTagMap","AggregationMap","suyuanWarningTypeMap","monitorWarningTypeMap","commonWarningTypeMap","warningMethosMap","alarmDelayMap","roleMap","duTypeMap","wellLidTypeMap","ConditionMap","alarmStatusMap","alarmExecuteMap","phoneAlarmExecuteMap","deviceStatusRunningMap","deviceCommandStatusCreatedMap","deviceBindOperateMap","alarmProcessStatusMap","DrainFactoryNameMap","brokenTypeMap","maintenanceTypeMap","handle_err","error","route_name","appendMessage","ElMessage","handle_succ","message","cb","options","toLogin","route","filterParams","requestParams","params","obj","key","value","service","axios","config","response","data","err","Code","Message","dispatchLogout","request","url","method","resolve","reject","res","e","login","userBaseInfo","modifyPassword","useUserStore","defineStore","useStorage","props","__props","emits","__emit","ruleFormRef","ref","formData","rules","updatePassword","formEl","valid","fields","loginPath","emit","userInfo","passwordVisible","navTo","path","logout","getUserBaseInfo","Data","onMounted","watch","newValue","useRouter","useRoute","activeMenu","openeds","pathMap","initActiveMenu","handleMenuSelect","index","locale","zhCn","fullScreens","pinia","createPinia","dayjs.extend","customParseFormat","dayjs.locale","app","createApp","App","ElementPlus","component","ElementPlusIconsVue"],"sources":["../../../src/assets/logo.png","../../../src/router/common.ts","../../../src/router/suyuan.ts","../../../src/router/routes.ts","../../../src/router/index.ts","../../../src/utils/dict.ts","../../../src/utils/function.ts","../../../src/api/request.ts","../../../src/api/user.ts","../../../src/store/user.ts","../../../src/utils/token.ts","../../../src/components/Layout/userInfo/ModifyPassword.vue","../../../src/components/Layout/userInfo/index.vue","../../../src/components/Layout/SubHeader/suyuan.vue","../../../src/components/Layout/SubHeader/monitor.vue","../../../src/components/Layout/SubHeader/admin.vue","../../../src/components/Layout/SubHeader/index.vue","../../../src/App.vue","../../../src/store/pinia.ts","../../../src/main.ts"],"sourcesContent":["export default \"data:image/png;base64,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\"","import { RouteRecordRaw } from \"vue-router\";\r\n\r\nconst commonRoutes: RouteRecordRaw[] = [\r\n  { path: \"/\", name: \"root\", redirect: \"/traceability/maintain/deviceManage\" },\r\n];\r\n\r\nexport default commonRoutes;\r\n","import { RouteRecordRaw } from \"vue-router\";\r\n\r\nconst suyuanRoutes: RouteRecordRaw[] = [\r\n  // 溯源平台 - 设备管理\r\n  {\r\n    path: \"/traceability/maintain/deviceManage\",\r\n    component: () =>\r\n      import(\"../views/traceability/maintain/deviceManage/index.vue\"),\r\n  },\r\n];\r\n\r\nexport default suyuanRoutes;\r\n","import { RouteRecordRaw } from \"vue-router\";\r\nimport commonRoutes from \"./common\";\r\nimport suyuanRoutes from \"./suyuan\";\r\n\r\nexport const routes: RouteRecordRaw[] = [...commonRoutes, ...suyuanRoutes];\r\n","import { createRouter, createWebHashHistory } from \"vue-router\";\r\n// import Home from \"../views/Home.vue\";\r\nimport { routes } from \"./routes\";\r\nimport { getToken } from \"@/utils/token\";\r\n\r\nconst router = createRouter({\r\n  history: createWebHashHistory(),\r\n  routes,\r\n});\r\n\r\n// 全局前置守卫\r\nrouter.beforeEach((to, from, next) => {\r\n  console.log(from);\r\n\r\n  sessionStorage.setItem(\r\n    \"redirectPath\",\r\n    JSON.stringify({\r\n      path: to.path,\r\n      query: to.query,\r\n    })\r\n  );\r\n\r\n  const Token = getToken();\r\n\r\n  if (Token) {\r\n    next();\r\n  } else {\r\n    next();\r\n  }\r\n});\r\n\r\nexport default router;\r\n","export interface Option {\r\n  label: string;\r\n  value: string;\r\n  disabled?: boolean;\r\n  show?: boolean;\r\n}\r\n\r\nexport interface StringKey {\r\n  [key: string]: string; // 添加字符串索引签名\r\n}\r\n\r\n// 映射转下拉选项\r\nconst mapToOptions = (source: any) => {\r\n  return Object.entries(source).map((item) => ({\r\n    label: item[1] as string,\r\n    value: item[0],\r\n  }));\r\n};\r\n\r\n\r\n//指标精度映射\r\nexport const AggregationPrecisionMap: StringKey = {\r\n  \"15minute\": \"15分钟\",\r\n  \"30minute\": \"30分钟\",\r\n  \"1hour\": \"1小时\",\r\n  \"1day\": \"1天\",\r\n};\r\n// 指标精度下拉选项\r\nexport const AggregationPrecisionOptions = mapToOptions(\r\n  AggregationPrecisionMap\r\n);\r\n\r\n//小时级别指标精度映射\r\nexport const AgHoursPrecisionMap: StringKey = {\r\n  \"15minute\": \"15分钟\",\r\n  \"30minute\": \"30分钟\",\r\n  \"1hour\": \"1小时\",\r\n};\r\n// 小时级别指标精度下拉选项\r\nexport const AgHoursPrecisionOptions = mapToOptions(AgHoursPrecisionMap);\r\n\r\n//溯源设备类型映射\r\nexport const suyuanDeviceTypeMap: StringKey = {\r\n  suyuan: \"溯源设备\",\r\n};\r\n// 溯源设备类型下拉选项\r\nexport const suyuanDeviceTypeOptions = mapToOptions(suyuanDeviceTypeMap);\r\n//溯源传感器类型映射\r\nexport const suyuanSensorTypeMap: StringKey = {\r\n  ywkg: \"液位开关\",\r\n};\r\n// 溯源传感器类型下拉选项\r\nexport const suyuanSensorTypeOptions = mapToOptions(suyuanSensorTypeMap);\r\n\r\n//三合一设备类型映射\r\nexport const threeInOneDeviceTypeMap: StringKey = {\r\n  \"three-in-one\": \"三合一设备\",\r\n};\r\n// 三合一设备类型下拉选项\r\nexport const threeInOneDeviceTypeOptions = mapToOptions(\r\n  threeInOneDeviceTypeMap\r\n);\r\n//三合一传感器类型映射\r\nexport const threeInOneSensorTypeMap: StringKey = {\r\n  ylywj: \"压力液位计\",\r\n  ldywj: \"雷达液位计\",\r\n  llj: \"流量计\",\r\n  ddly: \"电导率仪\",\r\n};\r\n// 三合一传感器类型下拉选项\r\nexport const threeInOneSensorTypeOptions = mapToOptions(\r\n  threeInOneSensorTypeMap\r\n);\r\n\r\n\r\n//监控指标映射\r\nexport const monitorMetricsMap: StringKey = {\r\n  yw: \"液位\",\r\n  kg: \"空高\",\r\n  ss: \"水深\",\r\n};\r\n// 监控指标下拉选项\r\nexport const monitorMetricsOptions = mapToOptions(monitorMetricsMap);\r\n\r\n\r\n// 雷达液位计对应指标映射\r\nexport const ldywjMtricesMap: StringKey = {\r\n  kg: \"空高\",\r\n  ss: \"水深\",\r\n  yw: \"液位\",\r\n  wd: \"温度\",\r\n  dy: \"电压\",\r\n  xhqd: \"信号强度\",\r\n};\r\n// 雷达液位计对应指标下拉选项\r\nexport const ldywjMetricsOptions = mapToOptions(ldywjMtricesMap);\r\n\r\n// 压力液位计对应指标\r\nconst ylywjMtricesMap: StringKey = {\r\n  kg: \"空高\",\r\n  ss: \"水深\",\r\n  yw: \"液位\",\r\n  wd: \"温度\",\r\n  dy: \"电压\",\r\n  xhqd: \"信号强度\",\r\n};\r\n// 压力液位计对应指标下拉选项\r\nexport const ylywjMetricsOptions = mapToOptions(ylywjMtricesMap);\r\n\r\n// 流量计对应指标\r\nconst lljMtricesMap: StringKey = {\r\n  kg: \"空高\",\r\n  ss: \"水深\",\r\n  yw: \"液位\",\r\n  ls: \"流速\",\r\n  ll: \"流量\",\r\n  wd: \"温度\",\r\n  dy: \"电压\",\r\n  xhqd: \"信号强度\",\r\n  hhj: \"横滚角\",\r\n  cjz: \"垂直角\",\r\n};\r\n// 流量计对应指标下拉选项\r\nexport const lljMetricsOptions = mapToOptions(lljMtricesMap);\r\n\r\n// 电导率仪对应指标\r\nconst ddlyMtricesMap: StringKey = {\r\n  ddl: \"电导率\",\r\n  tds: \"TDS\",\r\n  yd: \"盐度\",\r\n  wd: \"温度\",\r\n  dy: \"电压\",\r\n  xhqd: \"信号强度\",\r\n};\r\n// 电导率仪对应指标下拉选项\r\nexport const ddlyMetricsOptions = mapToOptions(ddlyMtricesMap);\r\n\r\n// 液位开关对应指标\r\nconst ywkgMtricesMap: StringKey = {\r\n  water: \"有水情况\",\r\n  dy: \"电压\",\r\n  xhqd: \"信号强度\",\r\n  water_near: \"有水情况（近端）\",\r\n  water_far: \"有水情况（远端）\",\r\n};\r\n// 液位开关指标下拉选项\r\nexport const ywkgMetricsOptions = mapToOptions(ywkgMtricesMap);\r\n\r\n// 液位计对应指标\r\nconst ywjMtricesMap: StringKey = {\r\n  ...ldywjMtricesMap,\r\n  ...ylywjMtricesMap\r\n};\r\n// 液位计指标下拉选项\r\nexport const ywjMetricsOptions = mapToOptions(ywjMtricesMap);\r\n\r\n\r\n//三合一指标映射\r\nexport const threeInOneMetricsMap: StringKey = {\r\n  ...ywjMtricesMap,\r\n  ...lljMtricesMap,\r\n  ...ddlyMtricesMap\r\n};\r\n// 三合一指标下拉选项\r\nexport const threeInOneMetricsOptions = mapToOptions(threeInOneMetricsMap);\r\n\r\n\r\n//溯源指标映射\r\nexport const suyuanQuotaMap: StringKey = {\r\n  ...ywjMtricesMap\r\n};\r\n// 溯源指标下拉选项\r\nexport const suyuanQuotaOptions = mapToOptions(suyuanQuotaMap);\r\n\r\n\r\n//全量指标映射\r\nexport const fullMetricsMap: StringKey = {\r\n  ...ywjMtricesMap,\r\n  ...lljMtricesMap,\r\n  ...ddlyMtricesMap,\r\n  PipeBottomElevation: \"管底坡道线\",\r\n  GroundElevation: \"地面坡降线\",\r\n  WellDepth: \"检查井井深\",\r\n};\r\n// 全量指标下拉选项\r\nexport const fullMetricsOptions = mapToOptions(fullMetricsMap);\r\n\r\nexport const fullMetricsUnitMap: StringKey = {\r\n  yw: \"m\",\r\n  kg: \"m\",\r\n  ss: \"m\",\r\n  wd: \"℃\",\r\n  ls: \"m/s\",\r\n  ll: \"m³/s\",\r\n  hhj: \"°\",\r\n  cjz: \"°\",\r\n  tds: \"μS/cm\",\r\n  yd: \"‰\",\r\n  water: \"\",\r\n  dy: \"v\",\r\n  xhqd: \"dBm\",\r\n  ddl:\"μS/cm\",\r\n};\r\n\r\n//表格传感器类型映射\r\nexport const tableSensorTypeMap: StringKey = {\r\n  ywj: \"液位计\",\r\n  llj: \"流量计\",\r\n  ddly: \"电导率仪\",\r\n  // ywkg: \"液位开关\",\r\n};\r\n// 表格传感器类型下拉选项\r\nexport const tableSensorTypeOptions = mapToOptions(tableSensorTypeMap);\r\n\r\n//一张图传感器类型映射\r\nexport const oneMapSensorTypeMap: StringKey = {\r\n  ywj: \"液位计\",\r\n  llj: \"流量计\",\r\n  ddly: \"电导率仪\",\r\n};\r\n// 一张图传感器类型下拉选项\r\nexport const oneMapSensorTypeOptions = mapToOptions(oneMapSensorTypeMap);\r\n\r\n//排水分区映射\r\nexport const drainageZoneMap: StringKey = {\r\n  ywkg: \"液位开关\",\r\n  ywj: \"液位计\",\r\n};\r\n\r\n// 排水分区下拉选项\r\nexport const drainageZoneOptions = mapToOptions(drainageZoneMap);\r\n\r\n//点位标签映射\r\nexport const pointTagMap: StringKey = {\r\n  zd: \"重点点位\",\r\n  dyh: \"大运会点位\",\r\n};\r\n// 点位标签下拉选项\r\nexport const pointTagOptions = mapToOptions(pointTagMap);\r\n\r\n//聚合函数映射\r\nexport const AggregationMap: StringKey = {\r\n  LAST: \"最新值 LAST\",\r\n  MEAN: \"均值 MEAN\",\r\n  MEDIAN: \"中位数 MEDIAN\",\r\n  SPREAD: \"最大最小差值 SPREAD\",\r\n  SUM: \"和值 SUM\",\r\n  FIRST: \"最老值 FIRST\",\r\n  MAX: \"最大值 MAX\",\r\n  MIN: \"最小值 MIN\",\r\n};\r\n// 聚合函数下拉选项\r\nexport const AggregationOptions = mapToOptions(AggregationMap);\r\n\r\nexport const date_shortcuts = [\r\n  {\r\n    text: \"当天\",\r\n    value: () => {\r\n      const end = new Date();\r\n      const start = new Date();\r\n      start.setHours(0);\r\n      start.setMinutes(0);\r\n      start.setSeconds(0);\r\n      return [start, end];\r\n    },\r\n  },\r\n  {\r\n    text: \"最近24小时\",\r\n    value: () => {\r\n      const end = new Date();\r\n      const start = new Date();\r\n      start.setTime(start.getTime() - 3600 * 1000 * 24);\r\n      return [start, end];\r\n    },\r\n  },\r\n  {\r\n    text: \"最近三天\",\r\n    value: () => {\r\n      const end = new Date();\r\n      const start = new Date();\r\n      start.setHours(0);\r\n      start.setMinutes(0);\r\n      start.setHours(0);\r\n      start.setTime(start.getTime() - 3600 * 1000 * 3 * 24);\r\n      return [start, end];\r\n    },\r\n  },\r\n  {\r\n    text: \"最近一周\",\r\n    value: () => {\r\n      const end = new Date();\r\n      const start = new Date();\r\n      start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\r\n      return [start, end];\r\n    },\r\n  },\r\n  {\r\n    text: \"最近一月\",\r\n    value: () => {\r\n      const end = new Date();\r\n      const start = new Date();\r\n      start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\r\n      return [start, end];\r\n    },\r\n  },\r\n  {\r\n    text: \"最近三月\",\r\n    value: () => {\r\n      const end = new Date();\r\n      const start = new Date();\r\n      start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\r\n      return [start, end];\r\n    },\r\n  },\r\n];\r\n\r\n//报警类型映射\r\nexport const suyuanWarningTypeMap: StringKey = {\r\n  ALARM_SUYUAN: \"溯源报警\",\r\n};\r\nexport const monitorWarningTypeMap: StringKey = {\r\n  ALARM_YW_RIS_FAST: \"液位上涨过快\",\r\n  ALARM_YW_RUN_OVER: \"空高报警\",\r\n  // ALARM_DATA_LOST: \"设备数据丢失\",\r\n};\r\nexport const commonWarningTypeMap: StringKey = {\r\n  ALARM_OFFLINE: \"设备离线\",\r\n  ALARM_RTU: \"RTU报警\",\r\n};\r\nexport const warningTypeMap: StringKey = {\r\n  ...suyuanWarningTypeMap,\r\n  ...monitorWarningTypeMap,\r\n  ...commonWarningTypeMap,\r\n};\r\n\r\n// 报警类型下拉选项\r\nexport const suyuanWarningTypeOptions = mapToOptions({\r\n  ...suyuanWarningTypeMap,\r\n  ...commonWarningTypeMap,\r\n});\r\n\r\nexport const monitorWarningTypeOptions = mapToOptions({\r\n  ...monitorWarningTypeMap,\r\n  ...commonWarningTypeMap,\r\n});\r\n\r\n// //报警类型映射\r\n// export const warningTypeMap: StringKey = {\r\n//   ...suyuanWarningTypeMap,\r\n//   ...monitorWarningTypeMap,\r\n//   ...commonWarningTypeMap\r\n// };\r\n// // 报警类型下拉选项\r\n// export const warningTypeOptions = mapToOptions(warningTypeMap);\r\n\r\n//报警方式映射\r\nexport const warningMethosMap: StringKey = {\r\n  PHONE: \"电话通知\",\r\n  SMS: \"短信通知\",\r\n  // VOICE: \"声音通知\",\r\n};\r\n// 报警方式下拉选项\r\nexport const warningMethosOptions = mapToOptions(warningMethosMap);\r\n\r\n//警报延时映射\r\nexport const alarmDelayMap: StringKey = {\r\n  \"5m\": \"5分钟\",\r\n  \"15m\": \"15分钟\",\r\n  \"30m\": \"30分钟\",\r\n  \"1h\": \"1小时\",\r\n  \"12h\": \"12小时\",\r\n  \"1d\": \"1天\",\r\n  \"1w\": \"1周\",\r\n};\r\n// 警报延时下拉选项\r\nexport const alarmDelayOptions = mapToOptions(alarmDelayMap);\r\n\r\n// 角色映射\r\nexport const roleMap: StringKey = {\r\n  Admin: \"超级管理员\",\r\n  User: \"普通用户\",\r\n};\r\n// 角色下拉选项\r\nexport const roleOptions = mapToOptions(roleMap);\r\n\r\n// 排水户类型映射\r\nexport const duTypeMap: StringKey = {\r\n  residential: \"住宅\",\r\n  office: \"办公区\",\r\n  school: \"学校\",\r\n  hospital: \"医院\",\r\n};\r\n// 排水户类型下拉选项\r\nexport const duTypeOptions = mapToOptions(duTypeMap);\r\n\r\n// 井盖类型映射\r\nexport const wellLidTypeMap: StringKey = {\r\n  iron: \"铸铁\",\r\n  concrete: \"砼\",\r\n};\r\n// 井盖类型下拉选项\r\nexport const wellLidTypeOptions = mapToOptions(wellLidTypeMap);\r\n\r\n// 井盖类型映射\r\nexport const ConditionMap: StringKey = {\r\n  OR: \"或\",\r\n  AND: \"且\",\r\n};\r\n// 井盖类型下拉选项\r\nexport const ConditionOptions = mapToOptions(ConditionMap);\r\n\r\n// 报警状态映射\r\nexport const alarmStatusMap: StringKey = {\r\n  Alarming: \"报警中\",\r\n  Recover: \"已恢复\",\r\n};\r\n// 报警状态下拉选项\r\nexport const alarmStatusOptions = mapToOptions(alarmStatusMap);\r\n\r\n// 短信报警处理状态映射\r\nexport const alarmExecuteMap: StringKey = {\r\n  NotExecuted: \"未处理\",\r\n  Executed: \"处理成功\",\r\n  Failed: \"处理失败\",\r\n};\r\n// 短信报警处理状态下拉选项\r\nexport const alarmExecuteOptions = mapToOptions(alarmExecuteMap);\r\n\r\n// 电话报警处理状态映射\r\nexport const phoneAlarmExecuteMap: StringKey = {\r\n  NotExecuted: \"未处理\",\r\n  Answered: \"未接听\",\r\n  Busy: \"线路异常或繁忙\",\r\n  Rejection: \"被叫拒接/振铃未接/占线/关机/空号\",\r\n  Arrears: \"服务欠费\",\r\n};\r\n// 短信报警处理状态下拉选项\r\nexport const phoneAlarmExecuteOptions = mapToOptions(phoneAlarmExecuteMap);\r\n\r\n// 设备运行状态映射\r\nexport const deviceStatusRunningMap: StringKey = {\r\n  Running: \"运行中\",\r\n  Closing: \"关闭中\",\r\n  Closed: \"已关闭\",\r\n  Setting: \"设置中\",\r\n};\r\n// 设备运行状态下拉选项\r\nexport const deviceStatusRunningOptions = mapToOptions(deviceStatusRunningMap);\r\n\r\n// 设备控制修改状态映射\r\nexport const deviceCommandStatusCreatedMap: StringKey = {\r\n  Created: \"等待设备响应\",\r\n  Success: \"执行指令成功\",\r\n  Fail: \"指令执行失败\",\r\n};\r\n// 设备控制修改状态下拉选项\r\nexport const deviceCommandStatusCreatedOptions = mapToOptions(\r\n  deviceCommandStatusCreatedMap\r\n);\r\n// 是否绑定状态映射\r\nexport const deviceBindOperateMap: StringKey = {\r\n  Bind: \"关联\",\r\n  Unbind: \"取消关联\",\r\n};\r\n// 是否绑定下拉选项\r\nexport const deviceBindOperateOptions = mapToOptions(deviceBindOperateMap);\r\n\r\n// 报警流程状态映射\r\nexport const alarmProcessStatusMap: StringKey = {\r\n  Read: \"已知悉\",\r\n  Unread: \"未知悉\",\r\n  Processed: \"已处理\",\r\n};\r\n// 报警流程状态下拉选项\r\nexport const alarmProcessStatusOptions = mapToOptions(alarmProcessStatusMap);\r\n\r\n// 排水厂\r\nexport const DrainFactoryNameMap: StringKey = {\r\n  三厂: \"三厂\",\r\n  四厂: \"四厂\",\r\n  五厂: \"五厂\",\r\n  六厂: \"六厂\",\r\n  七厂: \"七厂\",\r\n  八厂: \"八厂\",\r\n  九厂: \"九厂\",\r\n  十厂: \"十厂\",\r\n  十厂二期: \"十厂二期\",\r\n  骑龙厂: \"骑龙厂\",\r\n  七厂二期: \"七厂二期\",\r\n};\r\n// 设备控制修改状态下拉选项\r\nexport const DrainFactoryNameOptions = mapToOptions(DrainFactoryNameMap);\r\n\r\n// 故障类型映射\r\nexport const brokenTypeMap: StringKey = {\r\n  Damage: \"损坏\",\r\n  Lack: \"缺电\",\r\n  Other: \"其他异常\",\r\n};\r\n// 故障类型下拉选项\r\nexport const brokenTypeOptions = mapToOptions(brokenTypeMap);\r\n\r\n// 维护类型映射\r\nexport const maintenanceTypeMap: StringKey = {\r\n  Breakdown: \"故障\",\r\n  DailyCheck: \"日常巡检\",\r\n};\r\n// 维护类型下拉选项\r\nexport const maintenanceTypeOptions = mapToOptions(maintenanceTypeMap);\r\n","// @ts-nocheck\r\nimport dayjs from \"dayjs\";\r\nimport {\r\n  StringKey,\r\n  fullMetricsUnitMap,\r\n  Option,\r\n  fullMetricsMap,\r\n  date_shortcuts,\r\n} from \"./dict\";\r\nimport { ElMessage } from \"element-plus\";\r\nimport html2canvas from \"html2canvas\";\r\n// import FileSaver from \"file-saver\";\r\nimport * as XLSX from \"xlsx\";\r\n\r\nexport const get_filter = (name: any, values: any, exactMatch = true) => {\r\n  return {\r\n    Name: name,\r\n    Values: values,\r\n    ExactMatch: exactMatch,\r\n  };\r\n};\r\n\r\n// 错误处理\r\nexport function handle_err(\r\n  error: any,\r\n  route_name?: string,\r\n  appendMessage = \"\"\r\n) {\r\n  console.log(\"err 111-->\", error);\r\n\r\n  if (error.Code) {\r\n    if (error.Code == 223) {\r\n      // window.location.href = \"/login\";\r\n    } else {\r\n      ElMessage({\r\n        message: appendMessage\r\n          ? appendMessage + \":\" + error.Message\r\n          : error.Message,\r\n        type: \"error\",\r\n      });\r\n    }\r\n  } else if (error.Message) {\r\n    ElMessage({\r\n      message: appendMessage\r\n        ? appendMessage + \":\" + error.Message\r\n        : error.Message,\r\n      type: \"error\",\r\n    });\r\n  } else {\r\n    ElMessage({\r\n      message: error,\r\n      type: \"error\",\r\n    });\r\n  }\r\n  //  else {\r\n  //   ElMessage({\r\n  //     message: appendMessage ? appendMessage + \":\" + \"系统异常\" : \"系统异常\",\r\n  //     type: \"error\",\r\n  //   });\r\n  // }\r\n}\r\n\r\nexport function handle_warn(message: any) {\r\n  const options: any = {\r\n    type: \"warning\",\r\n    message: message,\r\n  };\r\n  ElMessage.warning(options);\r\n}\r\n\r\nexport function handle_succ(message: any, cb?: any) {\r\n  const options = {\r\n    type: \"success\",\r\n    message: message,\r\n    onClose: () => {\r\n      cb && cb();\r\n    },\r\n  };\r\n\r\n  ElMessage.success(options);\r\n}\r\n\r\n// 登录重定向\r\nexport const toLogin = (router: any, route?: any) => {\r\n  console.log(route);\r\n\r\n  // if (!route) {\r\n  if (router.currentRoute.value.path == `/login`) {\r\n    return;\r\n  }\r\n  router.push({\r\n    path: `/login`,\r\n  });\r\n  return;\r\n  // }\r\n\r\n  // router.push({\r\n  //   path: `/login`,\r\n  //   query: {\r\n  //     redirect: route.path,\r\n  //     query: JSON.stringify(route.query),\r\n  //   },\r\n  // });\r\n  // return;\r\n};\r\n\r\n// 日期格式转时间戳（秒）\r\nexport const DateToTamp = (v: any) => {\r\n  return Math.floor(new Date(v).getTime() / 1000);\r\n};\r\n\r\n// 日期格式转字符串格式\r\nexport const DateToString = (v: any, format = \"YYYY-MM-DD HH:mm:ss\") => {\r\n  console.log(v);\r\n  return dayjs(v).format(format);\r\n};\r\n\r\n// 时间戳(秒级)转日期时间格式\r\nexport const tampToTime = (\r\n  timestamp: number | string,\r\n  format = \"YYYY-MM-DD HH:mm:ss\"\r\n) => {\r\n  if (typeof timestamp !== \"number\") return;\r\n  return dayjs.unix(timestamp).format(format);\r\n};\r\n\r\n// 过滤多余入参，保留有值的参数\r\nexport const filterParams = (requestParams: any) => {\r\n  const params: StringKey = {};\r\n  const fn = (obj) => {\r\n    for (let key in obj) {\r\n      const value = obj[key];\r\n      if (value == null) {\r\n        // null和undefined跳过\r\n        continue;\r\n      } else if (typeof value === \"string\") {\r\n        if (value === \"\") {\r\n          // 空字符串跳过\r\n          continue;\r\n        } else {\r\n          // 非空字符串直接赋值\r\n          params[key] = value;\r\n        }\r\n      } else if (typeof value === \"number\") {\r\n        if (value === \"NaN\") {\r\n          // NaN跳过\r\n          continue;\r\n        } else {\r\n          // 非NaN直接赋值\r\n          params[key] = value;\r\n        }\r\n      } else if (Array.isArray(value)) {\r\n        if (value.length === 0) {\r\n          // 空数组跳过\r\n          continue;\r\n        } else {\r\n          // 非空数组直接赋值\r\n          params[key] = value;\r\n        }\r\n      } else if (typeof value === \"object\") {\r\n        if (Object.keys(value).length === 0) {\r\n          // 空对象跳过\r\n          continue;\r\n        } else {\r\n          params[key] = value;\r\n        }\r\n      } else if (typeof value === \"boolean\") {\r\n        // 默认boolean都会是空string，当为boolean时需要带上\r\n        params[key] = value;\r\n      }\r\n    }\r\n  };\r\n  fn(requestParams);\r\n  return params;\r\n};\r\n\r\n// 手机号验证\r\nexport const checkPhone = (phone: string) => {\r\n  var reg = /^(?:(?:\\+|00)86)?1[3-9]\\d{9}$/;\r\n\r\n  if (reg.test(phone) == false) {\r\n    return false;\r\n  }\r\n  return true;\r\n};\r\n\r\n// 网址验证（包含协议，端口）\r\nexport const checkWebsitePort = (website: string) => {\r\n  var reg = /^((ht|f)tps?:\\/\\/)?[\\w-]+(\\.[\\w-]+)+:\\d{1,5}\\/?$/;\r\n  return reg.test(website);\r\n};\r\n\r\n// 网址验证（包含协议）\r\nexport const checkWebsite = (website: string) => {\r\n  var reg =\r\n    /^(((ht|f)tps?):\\/\\/)?([^!@#$%^&*?.\\s-]([^!@#$%^&*?.\\s]{0,63}[^!@#$%^&*?.\\s])?\\.)+[a-z]{2,6}\\/?/;\r\n  return reg.test(website);\r\n};\r\n\r\n// 域名验证（不包含协议）\r\nexport const checkDomain = (website: string) => {\r\n  var reg = /^([0-9a-zA-Z-]{1,}\\.)+([a-zA-Z]{2,})$/;\r\n  return reg.test(website);\r\n};\r\n\r\n// html保存为图片\r\nexport const htmlToImage = (\r\n  target: string,\r\n  container: string,\r\n  fileName: string\r\n) => {\r\n  const download_btn = document.querySelector(target) as HTMLElement;\r\n  if (download_btn) {\r\n    download_btn.style.visibility = \"hidden\";\r\n    const borderStyle = \"1px solid #dcdfe6\";\r\n    const inputWraps = document.querySelectorAll(\r\n      \".el-input__wrapper\"\r\n    ) as NodeListOf<HTMLElement>;\r\n    [...inputWraps].forEach((input) => {\r\n      input.style.border = borderStyle;\r\n      input.style.boxShadow = \"none\";\r\n    });\r\n\r\n    const containerDom = document.querySelector(container) as HTMLElement;\r\n    if (containerDom) {\r\n      html2canvas(containerDom).then(function (canvas) {\r\n        var img = canvas\r\n          .toDataURL(\"image/png\")\r\n          .replace(\"image/png\", \"image/octet-stream\");\r\n        // 创建a标签，实现下载\r\n        var creatIMg = document.createElement(\"a\");\r\n        creatIMg.download = fileName; // 设置下载的文件名，\r\n        creatIMg.href = img; // 下载url\r\n        document.body.appendChild(creatIMg);\r\n        creatIMg.click();\r\n        creatIMg.remove(); // 下载之后把创建的元素删除\r\n        download_btn.style.visibility = \"visible\";\r\n      });\r\n    }\r\n\r\n    [...inputWraps].forEach((input) => {\r\n      input.style.border = \"0 none\";\r\n      input.style.boxShadow = \"0 0 0 1px #dcdfe6 inset\";\r\n    });\r\n  }\r\n};\r\n\r\n// 表格转为excel\r\nexport const exportExcel = (\r\n  name: string,\r\n  tableNames: string[] | string = [],\r\n  sheetNames: string[] | string = []\r\n) => {\r\n  let wb = XLSX.utils.book_new();\r\n\r\n  if (Array.isArray(tableNames)) {\r\n    for (let i = 0; i < tableNames.length; i++) {\r\n      let table = document.querySelector(tableNames[i]);\r\n      let ws = XLSX.utils.table_to_sheet(table);\r\n      XLSX.utils.book_append_sheet(wb, ws, sheetNames[i]);\r\n    }\r\n  } else {\r\n    let table = document.querySelector(tableNames);\r\n    let ws = XLSX.utils.table_to_sheet(table);\r\n    XLSX.utils.book_append_sheet(wb, ws, sheetNames);\r\n  }\r\n\r\n  XLSX.writeFile(wb, name);\r\n};\r\n\r\nexport const getChartsShowMetricValue = (\r\n  metricsName: string,\r\n  metricValue: any\r\n) => {\r\n  const isWater =\r\n    metricsName === \"water\" ||\r\n    metricsName === \"water_near\" ||\r\n    metricsName === \"water_far\";\r\n\r\n  switch (metricsName) {\r\n    case \"water\":\r\n      return metricValue;\r\n    case \"water_near\":\r\n      return metricValue;\r\n    case \"water_far\":\r\n      return metricValue;\r\n    default:\r\n      return metricValue + fullMetricsUnitMap[metricsName];\r\n  }\r\n};\r\n\r\n// 当前选项是否在已有下拉选项中\r\nexport const inOptionsArray = (find: Option, ops: Option[]) => {\r\n  for (let op of ops) {\r\n    if (op.label == find.label) {\r\n      return true;\r\n    }\r\n  }\r\n  return false;\r\n};\r\n\r\n// 正向排序（从小到大）\r\nexport const sortDownDate = (a, b) => {\r\n  if (typeof a === \"number\" && typeof b === \"number\") {\r\n    return a - b;\r\n  } else {\r\n    return dayjs(a, \"YYYY-MM-DD\").isBefore(b, \"YYYY-MM-DD\") ? -1 : 1;\r\n    // return Date.parse(a) - Date.parse(b);\r\n  }\r\n};\r\n\r\n// 反向排序（从大到小）\r\nexport const sortUpDate = (a, b) => {\r\n  if (typeof a === \"number\" && typeof b === \"number\") {\r\n    return a - b;\r\n  } else {\r\n    return dayjs(a, \"YYYY-MM-DD\").isAfter(b, \"YYYY-MM-DD\") ? -1 : 1;\r\n  }\r\n};\r\n\r\nexport const strTime = (t) => {\r\n  var d = new Date();\r\n  d.setTime(t * 1000);\r\n  var day = (\"0\" + d.getDate()).slice(-2);\r\n  var month = (\"0\" + (d.getMonth() + 1)).slice(-2);\r\n  var hours = (\"0\" + d.getHours()).slice(-2);\r\n  var minutes = (\"0\" + d.getMinutes()).slice(-2);\r\n  var seconds = (\"0\" + d.getSeconds()).slice(-2);\r\n  return (\r\n    d.getFullYear() +\r\n    \"-\" +\r\n    month +\r\n    \"-\" +\r\n    day +\r\n    \" \" +\r\n    hours +\r\n    \":\" +\r\n    minutes +\r\n    \":\" +\r\n    seconds\r\n  );\r\n};\r\n\r\nexport const listhours = (start, end) => {\r\n  const strhours = [];\r\n  const starttime = new Date(start + \"T00:00:00\");\r\n  const endtime = new Date(end + \"T23:59:59\");\r\n  while (starttime.getTime() <= endtime.getTime()) {\r\n    strhours.push(strTime(starttime.getTime() / 1000));\r\n    starttime.setHours(starttime.getHours() + 1);\r\n  }\r\n  return strhours;\r\n};\r\n\r\n// 获取echarts折线图的默认配置\r\nexport const getDefaultEchartsOption = (\r\n  queryTime: any[],\r\n  metricsName: string,\r\n  seriesNoData: boolean,\r\n  series: []\r\n) => {\r\n  const isWater =\r\n    metricsName === \"water\" ||\r\n    metricsName === \"water_near\" ||\r\n    metricsName === \"water_far\";\r\n  return {\r\n    xAxis: {\r\n      type: \"time\",\r\n      show: true,\r\n      min: queryTime.length >= 2 ? dayjs(queryTime[0]).unix() * 1000 : null,\r\n      max:\r\n        queryTime.length >= 2\r\n          ? dayjs(queryTime[queryTime.length - 1]).unix() * 1000\r\n          : null,\r\n      axisLabel: {\r\n        showMinLabel: true,\r\n        showMaxLabel: true,\r\n        //https://echarts.apache.org/zh/option.html#xAxis.axisLabel.formatter\r\n        formatter: {\r\n          year: \"{yyyy}年\",\r\n          month: \"{yyyy}年{MM}月\",\r\n          day: \"{dayStyle|{yyyy}年{MM}月{dd}日}\",\r\n          millisecond: \"{dayStyle|{yyyy}年{MM}月{dd}日}\\n {hh}:{mm}:{ss}\",\r\n        },\r\n        rich: {\r\n          dayStyle: {\r\n            // 让天信息更醒目\r\n            fontWeight: \"bold\",\r\n          },\r\n        },\r\n      },\r\n      axisLine: {\r\n        show: true, // 默认展现轴线\r\n        onZero: false, // x轴线不一定要在0值上\r\n      },\r\n    },\r\n    yAxis: {\r\n      name:\r\n        fullMetricsMap[metricsName] +\r\n        \"(\" +\r\n        fullMetricsUnitMap[metricsName] +\r\n        \")\",\r\n      axisLabel: {\r\n        formatter: \"{value}\" + fullMetricsUnitMap[metricsName],\r\n      },\r\n      type: isWater ? \"category\" : \"value\",\r\n      show: true,\r\n      data: [\"离线\", \"无水\", \"有水\"],\r\n      // boundaryGap:['10%','20%'],\r\n      // 没数据时，设置刻度值\r\n      min: function (value) {\r\n        if (isWater) {\r\n          return null;\r\n        }\r\n        // 没数据时\r\n        if (isNaN(value.min)) {\r\n          return 0;\r\n        }\r\n        // 有数据时\r\n        let diffMaxMin = value.max - value.min;\r\n        if (diffMaxMin == 0) {\r\n          diffMaxMin = Math.abs(value.min);\r\n        }\r\n        const min = (\r\n          Math.floor((value.min - diffMaxMin * 0.1) * 100) / 100\r\n        ).toFixed(2);\r\n        // 如果本身数据最小值就小于0，则按照10%下限调整\r\n        if (value.min < 0) {\r\n          return min;\r\n        }\r\n        // 如果本身数据最小值大于0，但调整min值小于，则修正为0\r\n        if (min < 0) {\r\n          return 0;\r\n        }\r\n        // 默认按照10%调整\r\n        return min;\r\n      },\r\n      max: function (value) {\r\n        if (isWater) {\r\n          return null;\r\n        }\r\n        // 没数据时\r\n        if (isNaN(value.max)) {\r\n          return 1;\r\n        }\r\n        // 有数据时\r\n        let diffMaxMin = value.max - value.min;\r\n        if (diffMaxMin == 0) {\r\n          diffMaxMin = Math.abs(value.max);\r\n        }\r\n        const max = (\r\n          Math.ceil((value.max + diffMaxMin * 0.1) * 100) / 100\r\n        ).toFixed(2);\r\n        // 如果本身数据最大值就大于0，则按照10%下限调整\r\n        if (value.max > 0) {\r\n          return max;\r\n        }\r\n        // 如果本身数据最大值小于0，但调整max值大于0，则修正为0\r\n        if (max > 0) {\r\n          return 0;\r\n        }\r\n        // 默认按照10%调整\r\n        return max;\r\n      },\r\n      axisLine: {\r\n        show: true, // 默认展现轴线\r\n      },\r\n      splitLine: {\r\n        show: true, // 分隔线\r\n      },\r\n    },\r\n    legend: {\r\n      show: true,\r\n    },\r\n    series: series,\r\n    // 没数据时，设备『暂无数据』的文本\r\n    graphic: {\r\n      type: \"text\",\r\n      left: \"center\",\r\n      top: \"middle\",\r\n      silent: true,\r\n      invisible: !seriesNoData,\r\n      style: {\r\n        fill: \"#9d9d9d\",\r\n        fontWeight: \"bold\",\r\n        text: \"暂无数据\",\r\n        fontFamily: \"Microsoft YaHei\",\r\n        fontSize: \"25px\",\r\n      },\r\n    },\r\n    // 提示框信息：https://echarts.apache.org/zh/option.html#tooltip\r\n    tooltip: {\r\n      backgroundColor: \"rgba(255,255,255,0.7)\",\r\n      formatter: function (param: any) {\r\n        var value = param.value;\r\n        let content =\r\n          '<div style=\"border-bottom: 1px solid rgba(255,255,255,.3);padding-bottom: 7px;margin-bottom: 7px\">';\r\n        content += \"<b>\" + param.seriesName + \"</b><br>\"; // 设备号\r\n        if (value.length == 2) {\r\n          if (dayjs(value[0]).isValid()) {\r\n            content +=\r\n              dayjs(value[0]).format(\"YYYY年MM月DD日 HH:mm:ss\") + \"<br>\"; // 时间\r\n          } else if (dayjs(value[0], \"YYYY年MM月DD日\").isValid()) {\r\n            content += value[0] + \"<br>\"; // 时间\r\n          }\r\n          content += fullMetricsMap[metricsName] + \": \";\r\n          content += getChartsShowMetricValue(metricsName, value[1]);\r\n        } else {\r\n          content += value[2]?.time + \"<br>\";\r\n          content += value[2]?.name + \"：\" + value[1] + value[2]?.unit;\r\n        }\r\n        content += \"</div>\";\r\n        return content;\r\n      },\r\n    },\r\n\r\n    dataZoom: [\r\n      {\r\n        // 这个dataZoom组件，默认控制x轴。\r\n        type: \"inside\", // 这个 dataZoom 组件是 slider 型 dataZoom 组件\r\n        filterMode: isWater ? \"none\" : \"filter\", // 缩放时不断开连线\r\n      },\r\n      {\r\n        // 这个dataZoom组件，默认控制x轴。\r\n        type: \"slider\", // 这个 dataZoom 组件是 slider 型 dataZoom 组件\r\n        top: \"bottom\",\r\n        filterMode: isWater ? \"none\" : \"filter\", // 缩放时不断开连线\r\n      },\r\n    ],\r\n  };\r\n};\r\n\r\nexport const getDefaultEchartsSerie = (\r\n  lineName: string,\r\n  metricsName: string\r\n) => {\r\n  const isWater =\r\n    metricsName === \"water\" ||\r\n    metricsName === \"water_near\" ||\r\n    metricsName === \"water_far\";\r\n\r\n  return {\r\n    name: lineName,\r\n    data: [],\r\n    type: \"line\",\r\n    smooth: isWater ? false : true, // 是否做曲线平滑\r\n    step: isWater ? \"start\" : \"\", // 梯状图\r\n    labelLayout: {\r\n      hideOverlap: true, // 缩放时自动隐藏标签\r\n    },\r\n    label: {\r\n      show: true,\r\n      position: \"top\",\r\n    },\r\n    symbolSize: 8, // 数据点的大小\r\n  };\r\n};\r\n\r\n// 获取具体报警信息\r\nexport const getAlarmInfo = (\r\n  alarm: any, //完整的报警信息\r\n  AlarmType: string, //报警类型\r\n  alarmContent: string //每个报警类型下的具体报警配置项\r\n) => {\r\n  const target = alarm.AlamConfigs?.find(\r\n    (item: any) => item.AlarmType === AlarmType\r\n  );\r\n\r\n  if (!target || !target[alarmContent]) return null;\r\n\r\n  return target[alarmContent];\r\n};\r\n\r\nconst getFileName = (filePath: any, name: string) => {\r\n  let fileName;\r\n  if (name) return name;\r\n  if (!filePath) return \"\";\r\n  if (typeof path === \"string\") {\r\n    // 使用split()根据斜杠分割路径，然后使用pop()获取数组的最后一个元素（文件名）\r\n    return filePath.split(\"/\").pop();\r\n  } else {\r\n    throw new Error(\"文件名不合法\");\r\n  }\r\n};\r\n\r\n// 下载文件\r\nexport const download = (path: any, name = \"\") => {\r\n  const fileName = getFileName(name);\r\n\r\n  if (fileName.endsWith(\".pdf\")) {\r\n    window.open(path, \"_blank\");\r\n  } else {\r\n    let downloadDom = document.createElement(\"a\");\r\n    downloadDom.href = path;\r\n    downloadDom.download = fileName; //--不是必须 若需要【前端重命名文件夹】的话这句代码就需要\r\n    document.body.appendChild(downloadDom);\r\n    downloadDom.click();\r\n    document.body.removeChild(downloadDom);\r\n  }\r\n};\r\n\r\nexport const getDateShortcuts = (selected: any[]) => {\r\n  if (!selected) {\r\n    return date_shortcuts;\r\n  }\r\n  return date_shortcuts.filter((item) => {\r\n    return selected.includes(item.text) ? true : false;\r\n  });\r\n};\r\n\r\n// 秒数转换为 \"天-小时-分钟\"显示\r\nexport const formatSecond = (second, defaultValue = \"-\") => {\r\n  let time = second;\r\n  if (time <= 0) return defaultValue;\r\n\r\n  var days = Math.floor(time / (24 * 60 * 60));\r\n  time = time - days * 24 * 60 * 60;\r\n  var hours = Math.floor(time / (60 * 60));\r\n  time = time - hours * 60 * 60;\r\n  var minites = Math.floor(time / 60);\r\n  time = time - minites * 60;\r\n  var seconds = Math.floor(time);\r\n\r\n  var str = seconds + \"秒\";\r\n\r\n  if (minites > 0) {\r\n    if (seconds > 0) {\r\n      str = minites + \"分钟\" + str;\r\n    } else {\r\n      str = minites + \"分钟\";\r\n    }\r\n  }\r\n  if (hours > 0) {\r\n    if (minites > 0) {\r\n      str = hours + \"小时\" + str;\r\n    } else {\r\n      str = hours + \"小时\";\r\n    }\r\n  }\r\n  if (days > 0) {\r\n    if (hours > 0) {\r\n      str = days + \"天\" + str;\r\n    } else {\r\n      str = days + \"天\" + str;\r\n    }\r\n  }\r\n\r\n  return str;\r\n};\r\n\r\n// 下载流文件\r\nexport const downloadBlob = (blob, fileName?: string) => {\r\n  const url = window.URL.createObjectURL(new Blob([blob]));\r\n  const link = document.createElement(\"a\");\r\n  link.href = url;\r\n  link.setAttribute(\"download\", fileName); // 你可以设置你想要的文件名\r\n  document.body.appendChild(link);\r\n  link.click();\r\n  document.body.removeChild(link);\r\n  window.URL.revokeObjectURL(url); // 释放URL对象\r\n};\r\n","import axios from \"axios\";\r\nimport router from \"@/router\";\r\nimport { getToken, dispatchLogout } from \"@/utils/token\";\r\n\r\nimport type {\r\n  AxiosError,\r\n  AxiosInstance,\r\n  AxiosResponse,\r\n  InternalAxiosRequestConfig,\r\n} from \"axios\";\r\nimport { toLogin } from \"@/utils/function\";\r\n\r\nconst service: AxiosInstance = axios.create({\r\n  baseURL: \"/v2\",\r\n  timeout: 10 * 1000, // 请求超时时间\r\n  headers: { \"Content-Type\": \"application/json;charset=UTF-8\" },\r\n});\r\n\r\nservice.interceptors.request.use((config: InternalAxiosRequestConfig) => {\r\n  const Token = getToken();\r\n  config!.headers!.Authorization = Token;\r\n\r\n  return config;\r\n});\r\n\r\n// 定义响应拦截器 -->token值无效时,清空token,并强制跳转登录页\r\nservice.interceptors.response.use(\r\n  (response: AxiosResponse) => {\r\n    const data = response.data;\r\n    if (data.code == null) {\r\n      // 流文件直接返回数据\r\n      return data;\r\n    }\r\n\r\n    if (data.Code === 0) {\r\n      return data;\r\n    } else {\r\n      console.log(\"global code error-->\", data.Code);\r\n\r\n      // // @ts-ignore\r\n      // ElMessage.error(data.Message);\r\n      return Promise.reject(data);\r\n    }\r\n  },\r\n  (err) => {\r\n    const { Code, Message } = err.response?.data;\r\n    console.log(\"global error-->\", err, Message);\r\n    if (Code === 221 || Code === 222 || Code === 223 || Code === 214) {\r\n      /**\r\n        221:无效的Token\r\n        222:Token已过期\r\n        223:Token为空\r\n        214:用户被锁定\r\n      */\r\n      dispatchLogout();\r\n      // removeToken();\r\n      //   removeUserInfo();\r\n      toLogin(router);\r\n    }\r\n    // @ts-ignore\r\n    // ElMessage.error(Message);\r\n    return Promise.reject(err.response?.data);\r\n  }\r\n);\r\n\r\nconst request = {\r\n  get<T = any>(url: string, data?: any, config?: any): Promise<T> {\r\n    return request.request(\"GET\", url, { params: data }, config);\r\n  },\r\n  post<T = any>(url: string, data?: any, config?: any): Promise<T> {\r\n    return request.request(\"POST\", url, { data }, config);\r\n  },\r\n  patch<T = any>(url: string, data?: any, config?: any): Promise<T> {\r\n    return request.request(\"PATCH\", url, { data }, config);\r\n  },\r\n  put<T = any>(url: string, data?: any): Promise<T> {\r\n    return request.request(\"PUT\", url, { data });\r\n  },\r\n  delete<T = any>(url: string, data?: any): Promise<T> {\r\n    return request.request(\"DELETE\", url, { params: data });\r\n  },\r\n  request<T = any>(\r\n    method = \"GET\",\r\n    url: string,\r\n    data?: any,\r\n    config?: any\r\n  ): Promise<T> {\r\n    return new Promise((resolve, reject) => {\r\n      const params = { method, url, ...data };\r\n\r\n      if (config?.onUploadProgress) {\r\n        params.onUploadProgress = config.onUploadProgress;\r\n      }\r\n      if (config?.headers) {\r\n        params.headers = config.headers;\r\n      }\r\n      if (config?.timeout) {\r\n        params.timeout = config.timeout;\r\n      }\r\n      if (config?.cancelToken) {\r\n        params.cancelToken = config.cancelToken.token;\r\n      }\r\n      if (config?.responseType) {\r\n        params.responseType = config.responseType;\r\n      }\r\n\r\n      service(params)\r\n        .then((res) => {\r\n          resolve(res as unknown as Promise<T>);\r\n        })\r\n        .catch((e: Error | AxiosError) => {\r\n          reject(e);\r\n        });\r\n    });\r\n  },\r\n};\r\n\r\nexport default request;\r\n","import request from \"./request\";\r\n\r\n// 登录\r\nexport const login = (data?: any) => request.post(\"/users/login\", data);\r\n\r\n// 注册\r\nexport const register = (data?: any) => request.post(\"/users/user/add\", data);\r\n\r\n// 获取用户详细信息\r\nexport const userBaseInfo = (data?: any) =>\r\n  request.get(\"/users/user/info\", data);\r\n\r\n// 获取用户详细列表\r\nexport const userList = (data?: any) => request.get(\"/users/user/list\", data);\r\n\r\n// 修改用户信息（密码/角色/状态）\r\nexport const modifyUser = (id: any, data?: any) =>\r\n  request.patch(`/users/user/${id}/modify`, data);\r\n\r\n// 发送验证码\r\nexport const verifySend = (data?: any) => request.post(\"/verify/send\", data);\r\n\r\n// 用户自行重置密码\r\nexport const resetPassword = (data?: any) =>\r\n  request.patch(`/users/user/password/reset`, data);\r\n\r\n// 用户自行修改密码\r\nexport const modifyPassword = (data?: any) =>\r\n  request.patch(`/users/user/password`, data);\r\n\r\n// 管理员强制修改用户密码\r\nexport const forcePassword = (data?: any) =>\r\n  request.patch(`/admin/force_password`, data);\r\n\r\n// 删除用户\r\nexport const deleteUser = (data?: any) =>\r\n  request.delete(`/users/user/delete`, data);\r\n","import { defineStore, acceptHMRUpdate } from \"pinia\";\r\nimport { useStorage } from \"@vueuse/core\";\r\nimport { login } from \"@/api/user\";\r\nimport { handle_err } from \"@/utils/function\";\r\n\r\n/**\r\n * Simulate a login\r\n */\r\n\r\nexport const useUserStore = defineStore({\r\n  id: \"user\",\r\n  state: () => ({\r\n    name: useStorage(\"username\", \"\"),\r\n    token: useStorage(\"token\", \"\"),\r\n    // isAdmin: useStorage(\"admin\", false),\r\n  }),\r\n\r\n  actions: {\r\n    logout() {\r\n      this.$patch({\r\n        name: \"\",\r\n        token: \"\",\r\n        // isAdmin: false,\r\n      });\r\n\r\n      // we could do other stuff like redirecting the user\r\n    },\r\n\r\n    /**\r\n     * Attempt to login a user\r\n     */\r\n    async login(params: any) {\r\n      return new Promise((resolve) => {\r\n        login(params)\r\n          .then((res) => {\r\n            if (res.Code == 0) {\r\n              this.$patch({\r\n                name: params.UserName,\r\n                token: \"Bearer \" + res.Data.Token,\r\n                // isAdmin: res.Data.Role == \"admin\",\r\n              });\r\n            }\r\n            resolve(res);\r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n            handle_err(err);\r\n          });\r\n      });\r\n    },\r\n  },\r\n});\r\n\r\nif (import.meta.hot) {\r\n  import.meta.hot.accept(acceptHMRUpdate(useUserStore, import.meta.hot));\r\n}\r\n","import { useUserStore } from \"@/store/user\";\r\n\r\nexport const getToken = () => {\r\n  const user = useUserStore();\r\n  return user.token || \"\";\r\n};\r\n\r\nexport const dispatchLogout = () => {\r\n  const user = useUserStore();\r\n  user.logout();\r\n};\r\n\r\n// export const getUserInfo = () => {\r\n//   let userInfo = {};\r\n//   const userInfoStr = localStorage.getItem(\"UserInfo\");\r\n//   if (userInfoStr) {\r\n//     userInfo = JSON.parse(userInfoStr);\r\n//   }\r\n//   return userInfo;\r\n// };\r\n\r\n// export const setUserInfo = (UserInfo: any) => {\r\n//   return localStorage.setItem(\"UserInfo\", JSON.stringify(UserInfo));\r\n// };\r\n\r\n// export const removeUserInfo = () => {\r\n//   return localStorage.removeItem(\"UserInfo\");\r\n// };\r\n","<!-- 用户自行修改密码 -->\r\n<template>\r\n  <div>\r\n    <el-dialog\r\n      :model-value=\"props.visible\"\r\n      title=\"修改密码\"\r\n      width=\"30%\"\r\n      destroy-on-close\r\n      @close=\"emits('close')\"\r\n    >\r\n      <el-form class=\"form\" ref=\"ruleFormRef\" :model=\"formData\" :rules=\"rules\">\r\n        <el-form-item prop=\"OldPassword\">\r\n          <div class=\"info-item\">\r\n            <span class=\"label\">旧密码</span>\r\n            <el-input v-model=\"formData.OldPassword\" placeholder=\"旧密码\" />\r\n          </div>\r\n        </el-form-item>\r\n        <el-form-item prop=\"NewPassword\">\r\n          <div class=\"info-item\">\r\n            <span class=\"label\">新密码</span>\r\n            <el-input\r\n              v-model=\"formData.NewPassword\"\r\n              placeholder=\"新密码\"\r\n              show-password\r\n            />\r\n          </div>\r\n        </el-form-item>\r\n        <el-form-item prop=\"ConfirmPassword\">\r\n          <div class=\"info-item\">\r\n            <span class=\"label\">确认新密码</span>\r\n            <el-input\r\n              v-model=\"formData.ConfirmPassword\"\r\n              placeholder=\"确认密码\"\r\n              show-password\r\n            />\r\n          </div>\r\n        </el-form-item>\r\n      </el-form>\r\n      <template #footer>\r\n        <span class=\"dialog-footer\">\r\n          <el-button @click=\"emits('close')\">取消</el-button>\r\n          <el-button type=\"primary\" @click=\"updatePassword(ruleFormRef)\">\r\n            确定\r\n          </el-button>\r\n        </span>\r\n      </template>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref } from \"vue\";\r\nimport type { FormInstance, FormRules } from \"element-plus\";\r\nimport { handle_succ, handle_err, filterParams } from \"@/utils/function\";\r\nimport { modifyPassword } from \"@/api/user\";\r\n\r\nconst props = defineProps({\r\n  visible: Boolean,\r\n});\r\nconst emits = defineEmits([\"close\"]);\r\n\r\nconst ruleFormRef = ref<FormInstance>();\r\n\r\n// 忘记密码需要提交的数据\r\ninterface Form {\r\n  OldPassword: string;\r\n  NewPassword: string;\r\n  ConfirmPassword: string;\r\n}\r\n// 忘记密码表单数据\r\nconst formData = ref<Form>({\r\n  OldPassword: \"\", // 旧密码\r\n  NewPassword: \"\", // 新密码\r\n  ConfirmPassword: \"\", // 确认新密码\r\n});\r\n\r\n// 表单验证规则\r\nconst rules = ref<FormRules<Form>>({\r\n  OldPassword: [\r\n    {\r\n      required: true,\r\n      trigger: \"blur\",\r\n    },\r\n  ],\r\n  NewPassword: [\r\n    { required: true, message: \"新密码不能为空\", trigger: [\"change\", \"blur\"] },\r\n  ],\r\n  ConfirmPassword: [\r\n    {\r\n      required: true,\r\n      message: \"确认密码不能为空\",\r\n      trigger: [\"change\", \"blur\"],\r\n    },\r\n  ],\r\n});\r\n\r\n// 更新密码\r\nconst updatePassword = async (formEl: FormInstance | undefined) => {\r\n  if (!formEl) return;\r\n  if (formData.value.NewPassword != formData.value.ConfirmPassword) {\r\n    handle_err(\"新密码和确认密码输入不一致\");\r\n    return;\r\n  }\r\n\r\n  formEl.validate(async (valid, fields) => {\r\n    if (valid) {\r\n      modifyPassword(filterParams(formData.value))\r\n        .then(() => {\r\n          handle_succ(\"修改密码成功\", () => {\r\n            emits(\"close\");\r\n          });\r\n        })\r\n        .catch((err: any) => {\r\n          console.log(err);\r\n          handle_err(err);\r\n        });\r\n    } else {\r\n      console.log(\"error submit!\", fields);\r\n    }\r\n  });\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.info-item {\r\n  display: flex;\r\n  align-items: center;\r\n  width: 100%;\r\n\r\n  .label {\r\n    font-size: 14px;\r\n    color: #333;\r\n    letter-spacing: 0;\r\n    text-align: right;\r\n    width: 70px;\r\n    height: 40px;\r\n    line-height: 40px;\r\n    margin-right: 15px;\r\n    font-weight: 200;\r\n  }\r\n\r\n  .code-label {\r\n    letter-spacing: 4px;\r\n  }\r\n  .code-btn {\r\n    height: 36px;\r\n    width: 100px;\r\n  }\r\n  .el-input {\r\n    flex: 1;\r\n  }\r\n}\r\n:deep(.el-input__wrapper) {\r\n  height: 40px;\r\n}\r\n</style>\r\n","<!-- 导航区域用户信息 -->\r\n<template>\r\n  <div class=\"userInfo\">\r\n    <div v-if=\"!getToken()\" style=\"margin-top: 32px\">\r\n      <el-button type=\"primary\" @click=\"navTo(loginPath)\">登录</el-button>\r\n      <el-button type=\"primary\" @click=\"navTo('/register')\">注册</el-button>\r\n    </div>\r\n\r\n    <div v-else class=\"content\">\r\n      <el-popover placement=\"bottom\" trigger=\"hover\">\r\n        <template #reference>\r\n          <div class=\"user-box\">\r\n            <!-- <div class=\"user-img\">\r\n              <img v-if=\"catchImage\" :src=\"catchImage\" />\r\n              <img v-else src=\"/empty-user.png\" />\r\n            </div> -->\r\n            <span class=\"line-ellipsis welcome\">{{ userInfo?.UserName }}</span>\r\n            <span class=\"icon\">\r\n              <el-icon :size=\"12\"><ArrowDown /></el-icon>\r\n            </span>\r\n          </div>\r\n        </template>\r\n        <ul class=\"userInfo-item\">\r\n          <li @click=\"passwordVisible = true\">\r\n            <el-icon><Setting /></el-icon>\r\n            <span>修改密码</span>\r\n          </li>\r\n          <li @click=\"logout\">\r\n            <el-icon><SwitchButton /></el-icon>\r\n            <span>退出登录</span>\r\n          </li>\r\n        </ul>\r\n      </el-popover>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- 修改密码弹窗 -->\r\n  <ModifyPassword :visible=\"passwordVisible\" @close=\"passwordVisible = false\" />\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, onMounted, watch } from \"vue\";\r\nimport { SwitchButton, ArrowDown, Setting } from \"@element-plus/icons-vue\";\r\nimport { getToken, dispatchLogout } from \"@/utils/token\";\r\nimport router from \"@/router\";\r\nimport { handle_succ, handle_err } from \"@/utils/function\";\r\nimport { userBaseInfo } from \"@/api/user\";\r\nimport ModifyPassword from \"./ModifyPassword.vue\";\r\n\r\ndefineProps({\r\n  path: String,\r\n});\r\n\r\nconst emit = defineEmits([\"changeUserInfo\"]);\r\n\r\ninterface UserInfo {\r\n  UserName: string;\r\n}\r\nconst userInfo = ref<UserInfo>();\r\nconst loginPath = \"/login\";\r\n\r\n// 修改密码弹窗是否显示\r\nconst passwordVisible = ref(false);\r\n\r\nconst navTo = (path: string) => {\r\n  // 优选选择地址栏中传入的数据，因为异步请求会延时，造成页面闪烁\r\n  router.push({\r\n    path,\r\n  });\r\n};\r\n\r\nconst logout = () => {\r\n  dispatchLogout();\r\n  // removeUserInfo();\r\n  handle_succ(\"退出成功\");\r\n  router.push(\"/login\");\r\n};\r\n\r\n// 获取用户详细信息\r\nconst getUserBaseInfo = async () => {\r\n  userBaseInfo()\r\n    .then(({ Data }) => {\r\n      userInfo.value = Data;\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n      handle_err(err);\r\n    });\r\n};\r\n\r\nonMounted(() => {\r\n  if (getToken()) {\r\n    getUserBaseInfo();\r\n  }\r\n});\r\n\r\nwatch(\r\n  () => userInfo.value,\r\n  (newValue) => {\r\n    emit(\"changeUserInfo\", newValue);\r\n  }\r\n);\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.userInfo {\r\n  height: 62px;\r\n  width: 250px;\r\n  background: rgba(255, 255, 255, 0.39);\r\n  display: flex;\r\n  justify-content: flex-end;\r\n}\r\n.userInfo-item {\r\n  width: 80px;\r\n  display: block;\r\n  li {\r\n    line-height: 30px;\r\n    display: flex;\r\n    align-items: center;\r\n    span {\r\n      margin-left: 5px;\r\n    }\r\n    &:hover {\r\n      color: #409eff;\r\n      cursor: pointer;\r\n    }\r\n  }\r\n}\r\n.icon {\r\n  margin-left: 16px;\r\n}\r\n.user-box {\r\n  display: flex;\r\n  align-items: center;\r\n  height: 100px;\r\n  height: 20px;\r\n  padding-top: 40px;\r\n}\r\n.welcome {\r\n  font-size: 14px;\r\n  color: #666;\r\n  display: inline-block;\r\n  max-width: 144px;\r\n  line-height: 100px;\r\n}\r\n.user-img {\r\n  width: 38px;\r\n  height: 38px;\r\n  border-radius: 50%;\r\n  overflow: hidden;\r\n  margin-right: 16px;\r\n  img {\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n}\r\n.content {\r\n  display: flex;\r\n}\r\n</style>\r\n","<!-- YourComponent.vue -->\r\n<template>\r\n  <!-- 溯源平台子菜单 -->\r\n  <el-menu\r\n    :default-active=\"activeMenu\"\r\n    :default-openeds=\"openeds\"\r\n    @select=\"handleMenuSelect\"\r\n  >\r\n    <el-sub-menu index=\"maintain\">\r\n      <template #title>数据维护</template>\r\n      <el-menu-item index=\"deviceManage\">设备管理</el-menu-item>\r\n      <el-menu-item index=\"pointManage\">点位管理</el-menu-item>\r\n      <el-menu-item index=\"drainageUnit\">排水户管理</el-menu-item>\r\n      <el-menu-item index=\"water\">排水分区管理</el-menu-item>\r\n      <el-menu-item index=\"pipe\">管网管理</el-menu-item>\r\n    </el-sub-menu>\r\n    <el-sub-menu index=\"visualization\">\r\n      <template #title>数据可视化</template>\r\n      <el-menu-item index=\"oneMap\">一张图</el-menu-item>\r\n      <el-sub-menu index=\"trend\">\r\n        <template #title>指标趋势</template>\r\n        <el-menu-item index=\"pointMetrics\">点位维度</el-menu-item>\r\n        <el-menu-item index=\"deviceMetrics\">设备维度</el-menu-item>\r\n      </el-sub-menu>\r\n      <el-menu-item index=\"trace\">溯源结果</el-menu-item>\r\n      <!-- <el-menu-item index=\"deviceInfo\">设备信息</el-menu-item> -->\r\n    </el-sub-menu>\r\n    <el-sub-menu index=\"device\">\r\n      <template #title>设备维护</template>\r\n      <el-menu-item index=\"warningSettings\">报警设置</el-menu-item>\r\n      <el-menu-item index=\"warningHistory\">报警列表</el-menu-item>\r\n    </el-sub-menu>\r\n  </el-menu>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, onMounted, watch } from \"vue\";\r\nimport { useRoute, useRouter } from \"vue-router\";\r\nconst router = useRouter();\r\nconst route = useRoute();\r\n\r\nconst activeMenu = ref();\r\n\r\n// 默认展开的菜单\r\nconst openeds = [\"maintain\", \"visualization\", \"trend\", \"device\"];\r\n\r\nconst pathMap = {\r\n  deviceManage: \"/traceability/maintain/deviceManage\",\r\n  pointManage: \"/traceability/maintain/point\",\r\n  drainageUnit: \"/traceability/maintain/drainageUnit\",\r\n  water: \"/traceability/maintain/water\",\r\n  pipe: \"/traceability/maintain/pipe\",\r\n  oneMap: \"/traceability/visualization/map\",\r\n  pointMetrics: \"/traceability/visualization/trend/point\",\r\n  deviceMetrics: \"/traceability/visualization/trend/device\",\r\n  trace: \"/traceability/visualization/results\",\r\n  deviceInfo: \"/traceability/visualization/deviceInfo\",\r\n  warningSettings: \"/traceability/device/warningSettings\",\r\n  warningHistory: \"/traceability/device/warningHistory\",\r\n};\r\n\r\nconst initActiveMenu = () => {\r\n  setTimeout(() => {\r\n    Object.entries(pathMap).forEach(([key, value]) => {\r\n      if (route.path.startsWith(value)) {\r\n        activeMenu.value = key;\r\n      }\r\n    });\r\n    if (!activeMenu.value) {\r\n      initActiveMenu();\r\n    }\r\n  }, 100);\r\n};\r\n\r\nconst handleMenuSelect = (index: string) => {\r\n  Object.entries(pathMap).forEach(([key, value]) => {\r\n    if (key === index) {\r\n      activeMenu.value = index;\r\n      // 执行菜单选择后的逻辑\r\n      router.push(value);\r\n    }\r\n  });\r\n};\r\n\r\nonMounted(() => {\r\n  initActiveMenu();\r\n});\r\n\r\nwatch(\r\n  () => route.path,\r\n  () => {\r\n    initActiveMenu();\r\n  }\r\n);\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.el-menu {\r\n  height: 100%;\r\n}\r\n</style>\r\n","<!-- YourComponent.vue -->\r\n<template>\r\n  <!-- 监测平台子菜单 -->\r\n  <el-menu\r\n    :default-active=\"activeMenu\"\r\n    :collapse-transition=\"false\"\r\n    :default-openeds=\"openeds\"\r\n    @select=\"handleMenuSelect\"\r\n  >\r\n    <el-sub-menu index=\"maintain\">\r\n      <template #title>数据维护</template>\r\n      <el-menu-item index=\"deviceManage\">设备管理</el-menu-item>\r\n      <el-menu-item index=\"pointManage\">点位管理</el-menu-item>\r\n    </el-sub-menu>\r\n    <el-sub-menu index=\"visualization\">\r\n      <template #title>数据可视化</template>\r\n      <el-menu-item index=\"oneMap\">一张图</el-menu-item>\r\n      <el-sub-menu index=\"trend\">\r\n        <template #title>指标趋势</template>\r\n        <el-menu-item index=\"pointMetrics\">点位维度</el-menu-item>\r\n        <el-menu-item index=\"deviceMetrics\">设备维度</el-menu-item>\r\n      </el-sub-menu>\r\n      <el-sub-menu index=\"analyze\">\r\n        <template #title>数据分析</template>\r\n        <el-menu-item index=\"table\">表格数据</el-menu-item>\r\n        <el-menu-item index=\"samePointDiffTime\"\r\n          >同点位不同时间分析</el-menu-item\r\n        >\r\n        <el-menu-item index=\"customTime\">自由选择统计周期</el-menu-item>\r\n        <!-- <el-menu-item index=\"diffPoint\">不同点位比较</el-menu-item> -->\r\n        <el-menu-item index=\"stream\">干管液位上下游分析</el-menu-item>\r\n        <el-menu-item index=\"maxValue\">液位最值分析</el-menu-item>\r\n        <el-menu-item index=\"density\">液位概率密度图</el-menu-item>\r\n        <el-menu-item index=\"correlation\">液位相关性分析</el-menu-item>\r\n      </el-sub-menu>\r\n    </el-sub-menu>\r\n    <el-sub-menu index=\"device\">\r\n      <template #title>设备维护</template>\r\n      <!-- <el-menu-item index=\"deviceControl\">设备控制</el-menu-item> -->\r\n      <el-menu-item index=\"warningSettings\">报警设置</el-menu-item>\r\n      <el-menu-item index=\"warningHistory\">报警列表</el-menu-item>\r\n    </el-sub-menu>\r\n    <el-sub-menu index=\"record\">\r\n      <template #title>记录管理</template>\r\n      <el-menu-item index=\"checkRecord\">校核记录</el-menu-item>\r\n      <el-menu-item index=\"brokenRecord\">故障记录</el-menu-item>\r\n      <el-menu-item index=\"maintenanceRecord\">维护记录</el-menu-item>\r\n      <el-menu-item index=\"operationRecord\">运行记录</el-menu-item>\r\n    </el-sub-menu>\r\n  </el-menu>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, onMounted, watch } from \"vue\";\r\nimport { useRoute, useRouter } from \"vue-router\";\r\nconst router = useRouter();\r\nconst route = useRoute();\r\n\r\nconst activeMenu = ref();\r\n\r\n// 默认展开的菜单\r\nconst openeds = [\r\n  \"maintain\",\r\n  \"visualization\",\r\n  \"trend\",\r\n  \"analyze\",\r\n  \"device\",\r\n  \"record\",\r\n];\r\n\r\nconst pathMap = {\r\n  deviceManage: \"/monitor/maintain/deviceManage\",\r\n  pointManage: \"/monitor/maintain/point\",\r\n  oneMap: \"/monitor/visualization/map\",\r\n  pointMetrics: \"/monitor/visualization/trend/point\",\r\n  deviceMetrics: \"/monitor/visualization/trend/device\",\r\n  table: \"/monitor/visualization/analyze/table\",\r\n  samePointDiffTime: \"/monitor/visualization/analyze/samePointDiffTime\",\r\n  customTime: \"/monitor/visualization/analyze/customTime\",\r\n  diffPoint: \"/monitor/visualization/analyze/diffPoint\",\r\n  stream: \"/monitor/visualization/analyze/stream\",\r\n  maxValue: \"/monitor/visualization/analyze/maxValue\",\r\n  density: \"/monitor/visualization/analyze/density\",\r\n  correlation: \"/monitor/visualization/analyze/correlation\",\r\n  deviceControl: \"/monitor/device/deviceControl\",\r\n  warningSettings: \"/monitor/device/warningSettings\",\r\n  warningHistory: \"/monitor/device/warningHistory\",\r\n  checkRecord: \"/monitor/record/check\",\r\n  brokenRecord: \"/monitor/record/broken\",\r\n  maintenanceRecord: \"/monitor/record/maintenance\",\r\n  operationRecord: \"/monitor/record/operation\",\r\n};\r\n\r\nconst initActiveMenu = () => {\r\n  setTimeout(() => {\r\n    Object.entries(pathMap).forEach(([key, value]) => {\r\n      if (route.path.startsWith(value)) {\r\n        activeMenu.value = key;\r\n      }\r\n    });\r\n    if (!activeMenu.value) {\r\n      initActiveMenu();\r\n    }\r\n  }, 100);\r\n};\r\n\r\nconst handleMenuSelect = (index: string) => {\r\n  Object.entries(pathMap).forEach(([key, value]) => {\r\n    if (key === index) {\r\n      activeMenu.value = index;\r\n      // 执行菜单选择后的逻辑\r\n      router.push(value);\r\n    }\r\n  });\r\n};\r\n\r\nonMounted(() => {});\r\n\r\nwatch(\r\n  () => route.path,\r\n  () => {\r\n    initActiveMenu();\r\n  },\r\n  {\r\n    immediate: true,\r\n  }\r\n);\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.el-menu {\r\n  height: 100%;\r\n}\r\n</style>\r\n","<template>\r\n  <!-- 后台管理子菜单 -->\r\n  <el-menu :default-active=\"activeMenu\" @select=\"handleMenuSelect\">\r\n    <el-menu-item index=\"userManage\">用户列表</el-menu-item>\r\n    <el-menu-item index=\"tagManage\">标签管理</el-menu-item>\r\n  </el-menu>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, onMounted, watch } from \"vue\";\r\nimport { useRoute, useRouter } from \"vue-router\";\r\nconst router = useRouter();\r\nconst route = useRoute();\r\n\r\nconst activeMenu = ref();\r\n\r\nconst pathMap = {\r\n  userManage: \"/admin/userManage\",\r\n  tagManage: \"/admin/tagManage\",\r\n};\r\n\r\nconst initActiveMenu = () => {\r\n  setTimeout(() => {\r\n    Object.entries(pathMap).forEach(([key, value]) => {\r\n      if (route.path.startsWith(value)) {\r\n        activeMenu.value = key;\r\n      }\r\n    });\r\n    if (!activeMenu.value) {\r\n      initActiveMenu();\r\n    }\r\n  }, 100);\r\n};\r\n\r\nconst handleMenuSelect = (index: string) => {\r\n  Object.entries(pathMap).forEach(([key, value]) => {\r\n    if (key === index) {\r\n      activeMenu.value = index;\r\n      // 执行菜单选择后的逻辑\r\n      router.push(value);\r\n    }\r\n  });\r\n};\r\n\r\nonMounted(() => {});\r\n\r\nwatch(\r\n  () => route.path,\r\n  () => {\r\n    initActiveMenu();\r\n  },\r\n  {\r\n    immediate: true,\r\n  }\r\n);\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.el-menu {\r\n  height: 100%;\r\n}\r\n</style>\r\n","<!-- YourComponent.vue -->\r\n<template>\r\n  <!-- 监测平台子菜单 -->\r\n  <Monitor v-if=\"route.path.startsWith('/monitor')\" />\r\n\r\n  <!-- 溯源平台子菜单 -->\r\n  <SuyuanHeader v-if=\"route.path.startsWith('/traceability')\" />\r\n\r\n  <!-- 后台管理子菜单 -->\r\n  <AdminHeader v-if=\"route.path.startsWith('/admin')\" />\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { useRoute } from \"vue-router\";\r\nimport SuyuanHeader from \"./suyuan.vue\";\r\nimport Monitor from \"./monitor.vue\";\r\nimport AdminHeader from \"./admin.vue\";\r\n\r\nconst route = useRoute();\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.el-menu {\r\n  height: 100%;\r\n}\r\n</style>\r\n","<template>\n  <el-config-provider :locale=\"locale\">\n    <router-view\n      v-if=\"fullScreens.includes(route.path)\"\n      :key=\"route.fullPath\"\n    ></router-view>\n\n    <Layout v-else>\n      <router-view :key=\"route.fullPath\"></router-view>\n    </Layout>\n  </el-config-provider>\n</template>\n<script setup lang=\"ts\">\nimport { ref } from \"vue\";\nimport Layout from \"./components/Layout/index.vue\";\nimport zhCn from \"element-plus/es/locale/lang/zh-cn\";\nimport { useRoute } from \"vue-router\";\nconst route = useRoute();\nconst locale = ref(zhCn);\n\nconst fullScreens = [\"/login\", \"/register\"];\n</script>\n<style scoped lang=\"scss\">\n.container {\n  display: flex;\n}\n.main {\n  flex: 1;\n}\n.subMenu {\n  width: 200px;\n}\n</style>\n","// src/store/pinia.ts\r\nimport { createPinia } from \"pinia\";\r\n\r\nconst pinia = createPinia();\r\n\r\nexport default pinia;\r\n","import { createApp } from \"vue\";\r\nimport \"./style.css\";\r\nimport App from \"./App.vue\";\r\nimport pinia from \"./store/pinia\"; // 引入 Pinia 实例\r\nimport \"element-plus/dist/index.css\";\r\nimport ElementPlus from \"element-plus\";\r\nimport router from \"./router\"; // 引入路由配置文件\r\nimport * as ElementPlusIconsVue from \"@element-plus/icons-vue\";\r\nimport * as dayjs from \"dayjs\";\r\nimport customParseFormat from \"dayjs/plugin/customParseFormat\";\r\nimport \"dayjs/locale/zh-cn\";\r\n\r\ndayjs.extend(customParseFormat);\r\ndayjs.locale(\"zh-cn\");\r\n\r\nconst app = createApp(App);\r\n\r\napp.use(pinia).use(ElementPlus).use(router);\r\napp.mount(\"#app\");\r\nfor (const [key, component] of Object.entries(ElementPlusIconsVue)) {\r\n  app.component(key, component);\r\n}\r\n"],"file":"static/js2/index-mgX3mncS.js"}